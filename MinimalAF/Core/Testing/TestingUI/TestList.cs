//using System;
//using System.Collections.Generic;


//namespace MinimalAF {
//    class TestList : Element {
//        List<(Type, VisualTestAttribute)> visualTestElementsUnfiltered;
//        List<(Type, VisualTestAttribute)> visualTestElements = new List<(Type, VisualTestAttribute)>();
//        float scrollAmount = 0;
//        string filter = "";
//        float gap = 3;

//        public TestList(List<(Type, VisualTestAttribute)> tests) {
//            UpdateTests(tests);
//            Clipping = true;
//        }

//        public void UpdateTests(List<(Type, VisualTestAttribute)> tests) {
//            visualTestElementsUnfiltered = tests;
//            SetFilter("");
//        }

//        public event Action<Type> OnSelect;
//        float textHeight;

//        IEnumerable<(float, (Type, VisualTestAttribute), bool)> IterateTypes() {
//            float y = ctx.Height * 1 - scrollAmount;
//            for (int i = 0; i < visualTestElements.Count; i++) {
//                y -= textHeight + gap;

//                if (y > ctx.Height * 1) {
//                    continue;
//                }

//                yield return (y, visualTestElements[i], MouseOver(0, y - gap, ctx.Width * 1, y + textHeight));
//            }
//        }

//        public override void OnUpdate() {
//            scrollAmount += MousewheelNotches * textHeight * 5;

//            float maxScroll = -(textHeight + gap) * visualTestElements.Count;
//            if (scrollAmount < maxScroll) {
//                scrollAmount = maxScroll;
//            }

//            if (scrollAmount > 0) {
//                scrollAmount = 0;
//            }

//            foreach ((float y, (Type test, VisualTestAttribute testInfo), bool isOver) in IterateTypes()) {
//                if (MouseButtonPressed(MouseButton.Left)) {
//                    if (isOver) {
//                        OnSelect?.Invoke(test);
//                    }
//                }
//            }
//        }

//        public override void OnRender() {
//            ctx.SetDrawColor(Color.VA(1, 0.5f));
//            DrawRect(0, 0, ctx.Width * 1, ctx.Height * 1);

//            SetFont("Consolas", 16);
//            textHeight = GetCharHeight();

//            foreach ((float y, (Type test, VisualTestAttribute testInfo), bool isOver) in IterateTypes()) {
//                ctx.SetDrawColor(Color.VA(0, 1));
//                if (isOver) {
//                    ctx.SetDrawColor(Color.VA(0.25f, 1));
//                    if (MouseButtonHeld(MouseButton.Left)) {
//                        ctx.SetDrawColor(Color.RGBA(1f, 0, 0, 0.5f));
//                    }
//                }

//                DrawText(test.Name, 10, y);
//            }
//        }

//        internal void SetFilter(string value) {
//            filter = value.Trim();

//            visualTestElements.Clear();
//            foreach (var pair in visualTestElementsUnfiltered) {
//                (Type t, VisualTestAttribute testInfo) = pair;
//                if (
//                    filter != "" &&
//                    !(t.Name.Contains(filter, StringComparison.OrdinalIgnoreCase) ||
//                    testInfo.Tags.Contains(filter, StringComparison.OrdinalIgnoreCase))
//                ) {
//                    continue;
//                }

//                visualTestElements.Add(pair);
//            }
//        }
//    }
//}
